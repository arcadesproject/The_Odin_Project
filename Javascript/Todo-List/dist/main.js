(()=>{"use strict";let e,t=[];const n=function(e){return`${e}_`+Math.random().toString(36).substr(2,9)},o=(e,o)=>{const c=((e,t)=>({name:e,description:t,list:[],id:n("project")}))(e,o);return t.unshift(c),c};o("test","testing"),o("test2","testing");const c=(e,t,o,c)=>({name:e,description:t,dueDate:o,priority:c,id:n("note")});function d(e,t){t.list.unshift(e)}function i(t){t.preventDefault();const{target:n}=t,o=n[0].value,i=n[1].value,r=n[2].value,m=n[3].value,u=c(o,i,r,m);d(u,e);const s=l(u);document.getElementById("notes-container").prepend(s),a()}function r(){document.getElementById("note-form").style.display="flex"}function a(){const e=document.getElementById("note-form");e.style.display="none",function(e){e.reset()}(e)}function l(e){const t=document.createElement("div");t.classList.add("todo-card");const n=document.createElement("h3");n.textContent=`${e.name}`,n.id="test";const o=document.createElement("p");o.textContent=`${e.description}`;const c=document.createElement("p");c.textContent=`${e.dueDate}`;const d=document.createElement("p");d.textContent=`${e.priority}`;const i=document.createElement("button");return i.textContent="del",i.addEventListener("click",u),i.id=e.id,t.append(n,o,c,d,i),t}function m(t){const n=document.createElement("div");n.id="notes";const o=document.createElement("div");o.id="notes-header";const c=document.createElement("h1");c.id="notes-title";const d=document.createElement("button");d.id="notes-button";const i=document.createElement("section");return i.id="notes-container",d.addEventListener("click",r),d.textContent="Add",o.append(c,d),c.textContent=`${e.name} notes`,n.append(o,i),t.list.forEach((e=>{const t=l(e);i.appendChild(t)})),n}function u({target:t}){const{id:n}=t,o=e.list.findIndex((e=>e.id===n));e.list.splice(o,1),t.parentNode.parentNode.removeChild(t.parentNode)}function s(t){e=t}function p({target:e}){const n=t.find((t=>t.id===e.id)),o=document.getElementById("notes-container");!function(e){e.innerHTML=""}(o),n.list.forEach((e=>{const t=l(e);o.appendChild(t)})),s(n);const c=document.getElementById("main");c.removeChild(c.lastChild);const d=m(n);c.appendChild(d)}function E(e){e.preventDefault();const{target:t}=e,n=t[0].value,c=t[1].value,d=h(o(n,c));d.addEventListener("click",p),document.getElementById("project-container").prepend(d),C()}function f(){document.getElementById("project-form").style.display="flex"}function C(){const e=document.getElementById("project-form");e.style.display="none",e.reset()}function h(e){const t=document.createElement("div");t.classList.add("project-card");const n=document.createElement("p");n.classList.add("project-title"),n.textContent=`${e.name}`,n.id=`${e.id}`,n.addEventListener("click",p),document.createElement("p").textContent=`${e.description}`;const o=document.createElement("button");return o.textContent="del",o.id=`${e.id}`,o.addEventListener("click",v),t.append(n,o),t}function v({target:n}){const{id:o}=n,c=t.findIndex((e=>e.id===o));if(n.parentNode.parentNode.removeChild(n.parentNode),t[c]===e){t.splice(c,1);const n=document.getElementById("notes-container");n.innerHTML="",t.length>0?(e=t[0],e.list.forEach((e=>{const t=l(e);n.appendChild(t)}))):(e=null,document.getElementById("notes-header").innerHTML="")}else t.splice(c,1)}s(t[0]),d(c("Test","Just a test",25,"low"),e),document.getElementById("content").append(function(){const e=document.createElement("header"),t=document.createElement("h1");return t.textContent="Todo-List",e.appendChild(t),e}(),function(){const n=document.createElement("section");return n.id="main",n.append(function(){const e=document.createElement("div");e.id="projects";const n=document.createElement("div"),o=document.createElement("h2");o.textContent="Projects";const c=document.createElement("button");c.textContent="Add",c.addEventListener("click",f);const d=document.createElement("section");return d.id="project-container",n.append(o,c),e.append(n,d),t.forEach((e=>{const t=h(e);d.appendChild(t)})),e}(),m(e)),n}(),function(){const e=document.createElement("footer");return e.textContent="footer",e}(),function(){const e=document.createElement("form");e.id="note-form",e.style.display="none";const t=document.createElement("ul"),n=document.createElement("li"),o=document.createElement("input");o.required=!0,n.appendChild(o);const c=document.createElement("li"),d=document.createElement("input");d.required=!0,c.appendChild(d);const r=document.createElement("li"),l=document.createElement("input");l.required=!0,r.appendChild(l);const m=document.createElement("li"),u=document.createElement("input");u.required=!0,m.appendChild(u);const s=document.createElement("li"),p=document.createElement("button"),E=document.createElement("button");return p.type="submit",p.textContent="Submit",E.addEventListener("click",a),E.textContent="Cancel",s.append(p,E),e.addEventListener("submit",i),t.append(n,c,r,m,s),e.appendChild(t),e}(),function(){const e=document.createElement("form");e.id="project-form",e.style.display="none";const t=document.createElement("ul"),n=document.createElement("li"),o=document.createElement("input");o.required=!0,n.appendChild(o);const c=document.createElement("li"),d=document.createElement("input");d.required=!0,c.appendChild(d);const i=document.createElement("li"),r=document.createElement("button"),a=document.createElement("button");return r.type="submit",r.textContent="Submit",a.addEventListener("click",C),a.textContent="Cancel",i.append(r,a),e.addEventListener("submit",E),t.append(n,c,i),e.appendChild(t),e}())})();